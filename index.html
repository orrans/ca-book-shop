<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Book Shop</title>
        <link rel="stylesheet" href="./css/style.css" />
    </head>
    <body onload="onInit()">
        <button class="view-state-btn" onclick="toggleView()">
            Change to
            <span class="view-state"></span>
            view
        </button>
        <div class="search">
            Search:
            <input
                type="text"
                name="search-bar"
                placeholder="Search book..."
                oninput="onSearchBook(this.value)" />
            <button class="clear-search" onclick="clearSearch()">Clear</button>
        </div>

        <section class="book-filter">
            <fieldset>
                <legend>Filter & Sorting</legend>

                <div class="filter-by">
                    <input
                        oninput="onSetFilterBy({ txt: this.value })"
                        placeholder="Title"
                        type="text" />
                    <label>
                        <span>Min price:</span>
                        <input
                            type="range"
                            min="0"
                            max="1000"
                            value="0"
                            oninput="this.nextElementSibling.value = this.value"
                            onchange="onSetFilterBy({ minPrice: +this.value })" />
                        <output>0</output>
                    </label>
                </div>

                <div class="sort-by">
                    <select onchange="onSetSortBy()">
                        <option value="">Select Sorting</option>
                        <option value="title">By Title</option>
                        <option value="price">By price</option>
                    </select>
                    <label>
                        <span>Descending</span>
                        <input class="sort-desc" type="checkbox" oninput="onSetSortBy()" />
                    </label>
                </div>
            </fieldset>
        </section>

        <button class="btn-add" onclick="onAddbook(event)">Add book</button>

        <div class="container-table">
            <table>
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Price</th>
                        <th>Rating</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody class="book-list"></tbody>
            </table>
        </div>

        <div class="container-grid hidden">
            <div class="grid"></div>
        </div>

        <div class="pagination">
            <button onclick="onPrevPage()">Prev</button>
            <div class="pages"></div>
            <button onclick="onNextPage()">Next</button>
        </div>

        <div class="modal" onclick="onCloseModal()">
            <div class="modal-content" onclick="event.stopPropagation()">
                <div class="modal-inner-content"></div>
                <span class="close" onclick="onCloseModal()">&times;</span>
            </div>
        </div>

        <footer class="inventory-stats">
            <h4>Books in the inventory</h4>
            <span class="cheap-book-count"></span>
            cheap books,
            <span class="average-book-count"></span>
            average books,
            <span class="expensive-book-count"></span>
            expensive books,
        </footer>

        <script src="./js/services/storage-service.js"></script>
        <script src="./js/services/book-service.js"></script>
        <script src="./js/book-controller.js"></script>
    </body>
</html>
